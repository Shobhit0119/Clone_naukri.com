
let data = [

  {
    "link": "https://static.naukimg.com/s/0/0/i/new-homepage/footer-logos/techminis.png",
    "count": 1,
    "height": 40,
    "width": 150,
    "title": "techminis",
    "titles": [
      "techminis"
    ]
  },
  {
    "link": "https://static.naukimg.com/s/0/0/i/new-homepage/footer-logos/jobhai.png",
    "count": 1,
    "height": 40,
    "width": 150,
    "title": "jobhai",
    "titles": [
      "jobhai"
    ]
  },
  {
    "link": "https://static.naukimg.com/s/0/0/i/new-homepage/footer-logos/hirist.png",
    "count": 1,
    "height": 40,
    "width": 150,
    "title": "hirist",
    "titles": [
      "hirist"
    ]
  },
  {
    "link": "https://static.naukimg.com/s/0/0/i/new-homepage/footer-logos/iimjobs.png",
    "count": 1,
    "height": 40,
    "width": 150,
    "title": "iimjobs",
    "titles": [
      "iimjobs"
    ]
  },
  {
    "link": "https://static.naukimg.com/s/0/0/i/new-homepage/footer-logos/shiksha.png",
    "count": 1,
    "height": 40,
    "width": 150,
    "title": "shiksha",
    "titles": [
      "shiksha"
    ]
  },
  {
    "link": "https://static.naukimg.com/s/0/0/i/new-homepage/footer-logos/firstNaukri.png",
    "count": 1,
    "height": 40,
    "width": 150,
    "title": "firstNaukri",
    "titles": [
      "firstNaukri"
    ]
  },
  {
    "link": "https://static.naukimg.com/s/0/0/i/new-homepage/footer-logos/ng.png",
    "count": 1,
    "height": 40,
    "width": 150,
    "title": "ng",
    "titles": [
      "ng"
    ]
  },
  {
    "link": "https://static.naukimg.com/s/0/0/i/new-homepage/footer-logos/jeevansathi.png",
    "count": 1,
    "height": 40,
    "width": 150,
    "title": "jeevansathi",
    "titles": [
      "jeevansathi"
    ]
  },
  {
    "link": "https://static.naukimg.com/s/0/0/i/new-homepage/footer-logos/nnacres.png",
    "count": 1,
    "height": 40,
    "width": 150,
    "title": "nnacres",
    "titles": [
      "nnacres"
    ]
  },
  {
    "link": "https://static.naukimg.com/s/4/100/i/naukri_Logo.png",
    "count": 2,
    "height": 31,
    "width": 186,
    "title": "Naukri Logo",
    "titles": [
      "Naukri Logo"
    ]
  },
  {
    "link": "https://static.naukimg.com/s/0/0/i/registerLock.png",
    "count": 1,
    "height": 64,
    "width": 58,
    "title": "register-lock",
    "titles": [
      "register-lock"
    ]
  },
  {
    "link": "https://static.naukimg.com/s/0/0/i/new-homepage/infoedge-logo.svg",
    "count": 1,
    "height": 25,
    "width": 91,
    "title": "naukri social logos",
    "titles": [
      "naukri social logos"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/158588.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "WIPRO",
    "titles": [
      "WIPRO"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/102394.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Realpage",
    "titles": [
      "Realpage"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/303102.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Mayflower Language Services",
    "titles": [
      "Mayflower Language Services"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/4659327.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Hubbell",
    "titles": [
      "Hubbell"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/1050278.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Dun & Bradstreet",
    "titles": [
      "Dun & Bradstreet"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/1486626.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Kellogg Brown & Root (KBR)",
    "titles": [
      "Kellogg Brown & Root (KBR)"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/4641399.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Zafin Software Centre Of Excellence",
    "titles": [
      "Zafin Software Centre Of Excellence"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/214440.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Reliance Retail",
    "titles": [
      "Reliance Retail"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/4575855.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Aequor Technologies",
    "titles": [
      "Aequor Technologies"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/4584623.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Bobst India",
    "titles": [
      "Bobst India"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/703904.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Rapido",
    "titles": [
      "Rapido"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/2275530.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Gyandhan",
    "titles": [
      "Gyandhan"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/2168966.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Magnitude Software",
    "titles": [
      "Magnitude Software"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/6205817.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Bitcipher Labs",
    "titles": [
      "Bitcipher Labs"
    ]
  },
  {
    "link": "https://img.naukimg.com/logo_images/groups/v1/5211308.gif",
    "count": 1,
    "height": 42,
    "width": 42,
    "title": "Urban Platter",
    "titles": [
      "Urban Platter"
    ]
  },



];


// {
//    "link": "https://static.naukimg.com/s/0/0/i/new-homepage/footer-logos/techminis.png",
//    "count": 1,
//    "height": 40,
//    "width": 150,
//    "title": "techminis",
//    "titles": [
//      "techminis"
//    ]
//  }

data.forEach((el) => {
  let obj = {};
  obj['createdAt'] = new Date().toLocaleTimeString();
  obj['title'] = el.title;
  obj['images'] = el.link;
  obj['rating'] = Number(((Math.random() * 8) + 1).toFixed(1));
  obj['review'] = Number(((Math.random() * 999) + 1).toFixed(0));
  //  postData(obj);
})



//  let api= ;

//  async function postData(obj){
//      let res= await fetch("https://636b2f61c07d8f936dafcc0f.mockapi.io/naukri12" ,{
//          method:'POST',
//          headers:{
//              'Content-Type':'application/json'
//          },
//          body:JSON.stringify(obj)
//      })
//      // console.log(res);
//      if(res.ok){
//          let data= await res.json();
//          console.log(data);
//      }else{
//          console.log('Error');
//      }
//  }

document.querySelector('#job').addEventListener('mouseover', () => {
  document.querySelector('.hover1').style.display = 'grid';
})
document.querySelector('#job').addEventListener('mouseleave', () => {
  document.querySelector('.hover1').style.display = 'none';
})

document.querySelector('#recruit').addEventListener('mouseover', () => {
  document.querySelector('.hover2').style.display = 'grid';
})
document.querySelector('#recruit').addEventListener('mouseleave', () => {
  document.querySelector('.hover2').style.display = 'none';
})


getdata();
async function getdata() {

  try {
    let res = await fetch("https://636b2f61c07d8f936dafcc0f.mockapi.io/naukari");
    console.log(res);
    if (res.ok) {
      let data = await res.json();
      items(data);
      // console.log(data);
      let filt = document.querySelectorAll(".filt");
      console.log(filt);
      let filterData = data;
      for (let i = 0; i < filt.length; i++) {
        filt[i].addEventListener("change", () => {
          // if (filt[i].checked) {
          if (filt[i].value == "title") {
            sortTitle(filterData);
            //  data kaha se paoge
          }
          else if (filt[i].value == "rate") {

            sortRating(filterData);
          }
          else if (filt[i].value == "review") {

            sortReview(filterData);
          } else {
            items(data);

          }

          // }else{
          //   items(data);
          // }
        })
      }
    } else {
      console.log('Error');
    }
  } catch (error) {

  }
}
function sortTitle(data) {
  data.sort((a, b) => {
    return a.title.localeCompare(b.title);

  })
  console.log(data);
  items(data);
}
function sortReview(data) {
  data.sort((a, b) => {
    return a.review - b.review;

  })
  console.log(data);
  items(data);
}

function sortRating(data) {
  data.sort((a, b) => {
    return a.rating - b.rating;

  })
  console.log(data);
  items(data);
}
let show_data = document.querySelector("#tasks")

function items(data) {
  show_data.innerHTML = "";
  display = [];
  //  data.forEach((item,i)=>{
  for (let i = 50; i < 86; i++) {
    // console.log(data[i]);
    // if(i==5){
    //   break;
    // }
    let display_data = `  <div class="task">
        <div  class="content">
            <img  src=${data[i].images} alt="">
        </div>
        <div class="actions">
        <a href="wipro.html" > <h2>${data[i].title}</h2></a>
            <p><i class="fa-solid fa-star"></i><span>${data[i].rating}</span><span> ||</span> <span>${data[i].review}</span>reviews</p>
        </div>
    </div>`;
    display.push(display_data);

  }

  show_data.innerHTML = display.join("");
}


// let select=document.querySelectorAll(".task")
// console.log(select);
// select.forEach((elem)=>{
// elem.addEventListener("click",()=>{
//   window.location.href= "wipro.html"
// })
// })










// Pagination
// async function FetchTodoData(data_perpage = 5, page_number = 1) {
//   try {
//     let fetch_todo_request = await fetch(`https://636b2f61c07d8f936dafcc0f.mockapi.io/naukari?_limit=${data_perpage}&_page=${page_number}`);
//     let total_data_count = fetch_todo_request.headers.get("x-total-count");
//     let total_page_show = Math.ceil(total_data_count / data_perpage)
//     renderPaginationButtons(total_page_show, page_number);
//   } catch (error) {
//     alert("Something went wrong!! Please try again later.");
//   }
// }
// let paginationWrapper = document.querySelector("#pagination-wrapper");
// function renderPaginationButtons(total_pages) {
//   paginationWrapper.innerHTML = `<div className="pagination-btn-list">${CreatePagButton(total_pages).join(" ")}</div>`;
//   let paginationButtons = document.querySelectorAll('.pagination-btn');
//   for (let paginationButton of paginationButtons) {
//     paginationButton.addEventListener('click', function (e) {
//       let page_number = e.target.dataset.id;
//       let page_limit = document.querySelector(".select-tag").value;
//       FetchTodoData(page_limit, page_number);
//     })
//   }
// }
// function getAsButton(text, cls, dataId) {
//   return `<button class="${cls}" ${dataId ? `data-id = ${dataId}` : ''} >${text}</button>`
// }
// function CreatePagButton(total_page) {
//   let array = [];
//   for (let page = 1; page <= total_page; page++) {
//     array.push(getAsButton(page, "pagination-btn", page))
//   }
//   return array;
// }


// let page=1;
// le
